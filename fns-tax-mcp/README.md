# fns-tax-mcp ‚Äî –§–ù–°: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–π –∏ —Ä–∞–±–æ—Ç–∞ —Å API-–§–ù–°

–ö–æ—Ä–æ–±–æ—á–Ω—ã–π MCP-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–∞–ª–æ–≥–æ–≤—ã—Ö –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ XML –∏ —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º –º–µ—Ç–æ–¥–æ–≤ API-–§–ù–°.

## üéØ –ß—Ç–æ —É–º–µ–µ—Ç

- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ XML –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –§–ù–°:
  - –£–°–ù (6% –∏ 15%) ‚Äî –ö–ù–î 1152017
  - –û–°–ù–û ‚Äî –ö–ù–î 1151001
  - –ù–î–° ‚Äî –ö–ù–î 1151001
  - 6-–ù–î–§–õ ‚Äî –ö–ù–î 1151078
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å API-–§–ù–° (api-fns.ru): –ø–æ–∏—Å–∫ –∫–æ–º–ø–∞–Ω–∏–π, –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤, –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—ã–ø–∏—Å–æ–∫ –∏ —Ç.–¥.

## üí∞ –≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏

**200+ —á–∞—Å–æ–≤ –≤ –≥–æ–¥ –¥–ª—è –ò–ü** ‚Äî –ø–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∫–≤–∞—Ä—Ç–∞–ª—å–Ω–æ–π –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏:
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏: **1-3 –¥–Ω—è ‚Üí 2 –º–∏–Ω—É—Ç—ã**
- XML –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ñ–æ—Ä–º–∞—Ç–∞–º –§–ù–° –∏ –≥–æ—Ç–æ–≤—ã –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ —á–µ—Ä–µ–∑ –õ–ö–ù –∏–ª–∏ –≠–î–û

–í–º–µ—Å—Ç–µ —Å `bank-statement-mcp` ‚Äî –ø–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∑–∞ **2-3 –º–∏–Ω—É—Ç—ã –≤–º–µ—Å—Ç–æ 2-3 –¥–Ω–µ–π**.

## üë• –î–ª—è –∫–æ–≥–æ

- **–ò–ü** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∫–≤–∞—Ä—Ç–∞–ª—å–Ω–æ–π –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏
- **–ë—É—Ö–≥–∞–ª—Ç–µ—Ä—ã** ‚Äî –±—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–π
- **–§–∏–Ω–¥–∏—Ä—ã** ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–ª–æ–≥–æ–≤—ã—Ö –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤

## üöÄ –ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∑–∞ 10 —Å–µ–∫—É–Ω–¥

1. –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç MCP –≤ –∞–≥–µ–Ω—Ç
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - `FNS_MODE` ‚Üí `test` | `free` | `prod`
     - `free`: —Ä–∞–∑—Ä–µ—à–µ–Ω—ã —Ç–æ–ª—å–∫–æ –º–µ—Ç–æ–¥—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º –∫–ª—é—á–µ (–ø–æ–∏—Å–∫/–ø—Ä–æ–≤–µ—Ä–∫–∏/–≤—ã–ø–∏—Å–∫–∏/–æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å + –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–π)
   - `FNS_API_TOKEN` ‚Üí –≤–∞—à —Ç–æ–∫–µ–Ω –æ—Ç api-fns.ru (–¥–ª—è –º–µ—Ç–æ–¥–æ–≤ API-–§–ù–°)

–ì–æ—Ç–æ–≤–æ! –ê–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ XML –∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å API-–§–ù–°.

## üìù –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –£–°–ù –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏

```
–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—é –£–°–ù 6% –∑–∞ 1 –∫–≤–∞—Ä—Ç–∞–ª 2025 –≥–æ–¥–∞.
–ò–ù–ù: 123456789012
–î–æ—Ö–æ–¥—ã: 500000 —Ä—É–±–ª–µ–π
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –û–°–ù–û –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏

```
–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—é –û–°–ù–û –∑–∞ 1 –∫–≤–∞—Ä—Ç–∞–ª 2025 –≥–æ–¥–∞.
–ò–ù–ù: 1234567890
–î–æ—Ö–æ–¥—ã: 1000000 —Ä—É–±–ª–µ–π
–†–∞—Å—Ö–æ–¥—ã: 600000 —Ä—É–±–ª–µ–π
–ü—Ä–∏–±—ã–ª—å: 400000 —Ä—É–±–ª–µ–π
–ù–î–° –∫ —É–ø–ª–∞—Ç–µ: 80000 —Ä—É–±–ª–µ–π
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ù–î–° –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏

```
–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—é –ù–î–° –∑–∞ 1 –∫–≤–∞—Ä—Ç–∞–ª 2025 –≥–æ–¥–∞.
–ò–ù–ù: 1234567890
–û–±–æ—Ä–æ—Ç: 2000000 —Ä—É–±–ª–µ–π
–ù–î–° –∫ —É–ø–ª–∞—Ç–µ: 400000 —Ä—É–±–ª–µ–π
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 6-–ù–î–§–õ

```
–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π —Ñ–æ—Ä–º—É 6-–ù–î–§–õ –∑–∞ 1 –∫–≤–∞—Ä—Ç–∞–ª 2025 –≥–æ–¥–∞.
–ò–ù–ù: 1234567890
–û–±—â–∞—è —Å—É–º–º–∞ –¥–æ—Ö–æ–¥–æ–≤: 5000000 —Ä—É–±–ª–µ–π
–ù–∞—á–∏—Å–ª–µ–Ω–æ –ù–î–§–õ: 650000 —Ä—É–±–ª–µ–π
–£–¥–µ—Ä–∂–∞–Ω–æ –ù–î–§–õ: 650000 —Ä—É–±–ª–µ–π
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **–°—Ç–∞–Ω–¥–∞—Ä—Ç**: 100% Cloud.ru MCP
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–π**: –õ–æ–∫–∞–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è XML –ø–æ —Ñ–æ—Ä–º–∞—Ç–∞–º –§–ù–° (–ö–ù–î)
- **API**: api-fns.ru (—Ç–µ—Å—Ç/–ø—Ä–æ–¥) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ï–ì–†–Æ–õ/–ï–ì–†–ò–ü
- **–§–æ—Ä–º–∞—Ç—ã**: –£–°–ù (–ö–ù–î 1152017), –û–°–ù–û/–ù–î–° (–ö–ù–î 1151001), 6-–ù–î–§–õ (–ö–ù–î 1151078)
- **–¢—Ä–µ–π—Å–∏–Ω–≥**: OpenTelemetry –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- **XML**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ lxml –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ XML

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install -e .
```

## üê≥ Docker

```bash
docker compose up
```

–ü—Ä–∏ —Å–±–æ—Ä–∫–µ Docker –æ–±—Ä–∞–∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è API —Ç–µ—Å—Ç—ã –≤ —Ä–µ–∂–∏–º–µ `test`:

```bash
docker build -t fns-tax-mcp .
```

–¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤—Å–µ—Ö 24 tools –ø–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π –æ–±—Ä–∞–∑–∞.

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
pip install -e ".[dev]"

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
pytest test/test_all_tools.py -v

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
pytest test/test_all_tools.py::test_generate_usn_declaration -v
```

### –¢–µ—Å—Ç—ã –≤ Docker

–¢–µ—Å—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–∏ —Å–±–æ—Ä–∫–µ Docker –æ–±—Ä–∞–∑–∞ –≤ —Ä–µ–∂–∏–º–µ `test` (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–∞–≥–ª—É—à–∫–∏ –∏–∑ `tools/mocks.py`).

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
