# –û—Ç—á–µ—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä–∞

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-12-07  
**URL:** https://b850adf3-acab-4d34-bd4f-9ed81f408203-mcp-server.ai-agent.inference.cloud.ru

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏

### 1. GET /health
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç  
**–ö–æ–¥ –æ—Ç–≤–µ—Ç–∞:** 200 OK  
**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "ok",
  "service": "fns-tax-mcp"
}
```

### 2. GET /
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç  
**–ö–æ–¥ –æ—Ç–≤–µ—Ç–∞:** 200 OK  
**–û—Ç–≤–µ—Ç:**
```json
{
  "service": "fns-tax-mcp",
  "description": "MCP-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–π –∏ —Ä–∞–±–æ—Ç—ã —Å API-–§–ù–° (24 tools)",
  "tools": [
    "generate_usn_declaration",
    "generate_osno_declaration",
    "generate_nds_declaration",
    "generate_6ndfl_declaration",
    "search_companies",
    ...
  ]
}
```
**–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ tools:** 24

### 3. POST /mcp (tools/list)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ FastMCP Client  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 
- ‚úÖ –ù–∞–π–¥–µ–Ω–æ 24 tools
- ‚úÖ –ü–µ—Ä–≤—ã–π tool: `generate_usn_declaration`
- ‚úÖ –í—Å–µ tools –¥–æ—Å—Ç—É–ø–Ω—ã

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü—Ä—è–º—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—Ç session ID (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è FastMCP 2.0). –î–ª—è —Ä–∞–±–æ—Ç—ã –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å FastMCP Client –∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é —Å–µ—Å—Å–∏–∏.

### 4. POST /mcp (tools/call)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ FastMCP Client  
**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π tool:** `generate_usn_declaration`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Tool –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –ü–æ–ª—É—á–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç —Å XML –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–µ–π
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–≤–∏–¥–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞)

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```
–î–µ–∫–ª–∞—Ä–∞—Ü–∏—è –£–°–ù 6% –∑–∞ Q1 2025
–ò–ù–ù: 7707083893
–î–æ—Ö–æ–¥—ã: 1,000,000.00 ‚ÇΩ
–†–∞—Å—Ö–æ–¥—ã: 0.00 ‚ÇΩ
–ù–∞–ª–æ–≥ –∫ —É–ø–ª–∞—Ç–µ: 60,000.00 ‚ÇΩ
XML –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ —Ñ–æ—Ä–º–∞—Ç—É –§–ù–° (–ö–ù–î 1152017)
```

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| Endpoint | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|----------|--------|------------|
| GET /health | ‚úÖ OK | –†–∞–±–æ—Ç–∞–µ—Ç |
| GET / | ‚úÖ OK | –†–∞–±–æ—Ç–∞–µ—Ç, 24 tools |
| POST /mcp (tools/list) | ‚úÖ OK | –ß–µ—Ä–µ–∑ FastMCP Client |
| POST /mcp (tools/call) | ‚úÖ OK | –ß–µ—Ä–µ–∑ FastMCP Client |

---

## ‚úÖ –í—ã–≤–æ–¥—ã

1. **–°–µ—Ä–≤–µ—Ä —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
   - Health check endpoint –¥–æ—Å—Ç—É–ø–µ–Ω
   - Root endpoint –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö 24 tools
   - MCP protocol endpoints —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ FastMCP Client

2. **FastMCP 2.0 —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ**
   - Streamable-http —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
   - Session ID –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ Client
   - –í—Å–µ tools –¥–æ—Å—Ç—É–ø–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç

3. **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**
   - –°–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ AI agents
   - –í—Å–µ 24 tools –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç

---

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–î–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ä–≤–µ—Ä–æ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ FastMCP Client:**
   ```python
   from fastmcp import Client
   
   client = Client("https://b850adf3-acab-4d34-bd4f-9ed81f408203-mcp-server.ai-agent.inference.cloud.ru/mcp")
   async with client:
       tools = await client.list_tools()
       result = await client.call_tool("generate_usn_declaration", {...})
   ```

2. **–î–ª—è –ø—Ä—è–º—ã—Ö HTTP –∑–∞–ø—Ä–æ—Å–æ–≤:**
   - –°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Å—Å–∏—é —á–µ—Ä–µ–∑ `initialize` –º–µ—Ç–æ–¥
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å session ID –∏–∑ –æ—Ç–≤–µ—Ç–∞ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å FastMCP Client (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - Health check –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ `/health`
   - –°–ø–∏—Å–æ–∫ tools –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ `/`
   - –í—Å–µ endpoints —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üìù –§–∞–π–ª—ã –ø—Ä–æ–≤–µ—Ä–∫–∏

- `test_production_server.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –ø—Ä—è–º—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
- `test_production_client.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ FastMCP Client
- `production_test_results.json` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã HTTP –ø—Ä–æ–≤–µ—Ä–∫–∏
- `production_test_results_client.json` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã Client –ø—Ä–æ–≤–µ—Ä–∫–∏


